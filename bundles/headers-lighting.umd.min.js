!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],factory):factory((global.ng=global.ng||{},global.ng.headersLighting=global.ng.headersLighting||{}),global.ng.core)}(this,function(exports,_angular_core){"use strict";var HeadersLightingDirective=function(){function HeadersLightingDirective(elementRef){this.elementRef=elementRef,this.tds=[],this.listeners=new Map}return HeadersLightingDirective.prototype.onMouseOver=function(){var table=this.elementRef.nativeElement;return function(event){var cellIndex=event.target.cellIndex+1;if(cellIndex&&"tr"!==event.target){table.querySelector("thead tr:not([disabled]) th:nth-child("+cellIndex+")").classList.add("header-light")}}},HeadersLightingDirective.prototype.onMouseOut=function(){var table=this.elementRef.nativeElement;return function(event){var cellIndex=event.target.cellIndex+1;if(cellIndex){table.querySelector("thead tr:not([disabled]) th:nth-child("+cellIndex+")").classList.remove("header-light")}}},HeadersLightingDirective.prototype.ngAfterViewInit=function(){var tbody=this.elementRef.nativeElement.querySelector("tbody");this.tds=tbody.querySelectorAll("td:not([disabled])"),this.tds.length&&this.deployListeners()},HeadersLightingDirective.prototype.ngAfterViewChecked=function(){var tbody=this.elementRef.nativeElement.querySelector("tbody"),newTds=tbody.querySelectorAll("td:not([disabled])");newTds.length!==this.tds.length&&(this.tds=newTds,this.deployListeners())},HeadersLightingDirective.prototype.deployListeners=function(){this.destroyListeners(),this.initListeners()},HeadersLightingDirective.prototype.initListeners=function(){var _this=this;this.tds.forEach(function(td,i){if(_this.listeners.has(td)){return void(_this.listeners.get(td).index=i)}_this.listeners.set(td,{mouseover:_this.onMouseOver(),mouseout:_this.onMouseOut()});var listeners=_this.listeners.get(td);td.addEventListener("mouseover",listeners.mouseover),td.addEventListener("mouseout",listeners.mouseout)})},HeadersLightingDirective.prototype.destroyListeners=function(){var _this=this;this.listeners.forEach(function(a){if(_this.listeners.has(a)){var listeners=_this.listeners.get(a);a.removeEventListener("mouseover",listeners.mouseover),a.removeEventListener("mouseout",listeners.mouseout),_this.listeners.delete(a)}})},HeadersLightingDirective.prototype.ngOnDestroy=function(){this.destroyListeners()},HeadersLightingDirective}();HeadersLightingDirective.decorators=[{type:_angular_core.Directive,args:[{selector:"[headersLighting]"}]}],HeadersLightingDirective.ctorParameters=function(){return[{type:_angular_core.ElementRef}]};var HeadersLightingModule=function(){function HeadersLightingModule(){}return HeadersLightingModule}();HeadersLightingModule.decorators=[{type:_angular_core.NgModule,args:[{declarations:[HeadersLightingDirective],exports:[HeadersLightingDirective],imports:[],providers:[]}]}],exports.HeadersLightingDirective=HeadersLightingDirective,exports.HeadersLightingModule=HeadersLightingModule,Object.defineProperty(exports,"__esModule",{value:!0})});
//# sourceMappingURL=headers-lighting.umd.min.js.map
